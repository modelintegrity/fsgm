<!DOCUMENT HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
	<title>Charging</title>
	<meta name="robots" content="noindex, nofollow"/>
	<meta http-equiv="Content-Type" content="text/html; charset=windows-1251">
	<meta name="viewport" content="initial-scale=1.0,
          minimum-scale=1.0 ,
          maximum-scale=1.0 ,
          user-scalable=no"/>
	<style type="text/css">
		@font-face {
		 font-family: 'Roboto';
		 font-style: normal;
		 font-weight: normal;
		 src: url('Roboto-Regular.ttf'); 
		}
		@font-face {
		 font-family: 'Roboto Bk';
		 font-style: normal;
		 font-weight: normal;
		 src: url('Roboto-Black.ttf'); 
		}
		@font-face {
		 font-family: 'Roboto Cn';
		 font-style: normal;
		 font-weight: normal;
		 src: url('Roboto-Condensed.ttf'); 
		}
		@font-face {
		 font-family: 'Roboto Lt';
		 font-style: normal;
		 font-weight: normal;
		 src: url('Roboto-Light.ttf'); 
		}
	.box {
		POSITION:absolute;
		DISPLAY:block;
		margin:0;
		border-style:none;
	}
	.canvas {
		POSITION:absolute;
		BOX-SHADOW: 2px 2px 5px RGBA(0,0,0,0.5);
	}
	#holder {
		POSITION:absolute;
		display:block;
		margin:0;
		padding:0;
		overflow:hidden;
		width:100%;
		height:100%;
	}
	.tag {
		position:absolute;
		background-position: 50% 50%;
		background-repeat: no-repeat;
		background-size: 100% 100%;
		opacity:0.5;
	}
	</style>
<script
  src="https://code.jquery.com/jquery-2.2.4.min.js"
  crossorigin="anonymous"></script>	<script type="text/javascript">
	<!--
var RN,RNL,screenContextRadial,screenContext,canvas,radius,timestamp,initimestamp,V,I,t___,fotoncounter=0,ISO=!1,DIS=36e8,mass=1e35,G=667e-13,ring=[],foton=[],Timer=function(){var t=[],a=0;return{Resume:function(a){if("number"==typeof a&&null!=t[a]){if(!t[a].active){t[a].active=!0;var e=(new Date).getTime();t[a].next=Math.max(e,t[a].next),t[a].timer=setTimeout("Timer.Execute("+a+");",Math.max(1,t[a].next-e))}return a}},Start:function(){if(Timer.Resume(arguments[0])||"I"!=arguments[1]&&"D"!=arguments[1])return arguments[0];var e=a++,n=(new Date).getTime();return t[e]={active:!0,array:arguments,type:arguments[1],next:n+arguments[2],counter:0,timer:setTimeout("Timer.Execute("+e+");",arguments[2])},e},Execute:function(a){if(null!=a&&null!=a&&null!=t[a]&&t[a].active){var e=(new Date).getTime();if(t[a].next=e+t[a].array[2],t[a].counter++,t[a].array[3](t[a].array[4],t[a].array[5],t[a].array[6],t[a].array[7],t[a].array[8],t[a].array[9],t[a].array[10],t[a].array[11],t[a].array[12],t[a].array[13]),"I"==t[a].type){e=(new Date).getTime();t[a].timer=setTimeout("Timer.Execute("+a+");",Math.max(1,t[a].next-e))}else delete t[a]}}}}();function draw_tangent(){for(screenContext.clearRect(0,0,2*radius,2*radius),screenContext.strokeStyle="black",x=ring.length-1;x>=0;x--)screenContext.lineWidth=Math.max(.05,Math.min(.4,ring[x].V/3e8*.4)),screenContext.beginPath(),screenContext.arc(radius,radius,ring[x].R/DIS*radius,0,2*Math.PI,!1),screenContext.closePath(),screenContext.stroke();var a=(new Date).getTime();for(t=(a-t___)/1e3,t___=a,x=0;x<foton.length;x++){for(screenContext.strokeStyle=screenContext.fillStyle="HSL("+foton[x].COLOR+",100%,"+(25+Math.abs(foton[x].COLOR%120-60)/60*25)+"%)",screenContext.beginPath(),screenContext.arc(radius*(1+foton[x].X/DIS),radius*(1+foton[x].Y/DIS),2,0,2*Math.PI,!1),screenContext.closePath(),screenContext.fill(),screenContext.lineWidth=.6,screenContext.beginPath(),screenContext.moveTo(radius*(1+foton[x].X/DIS),radius*(1+foton[x].Y/DIS)),i=foton[x].track.length-1;i>=0;i--){var e=foton[x].track[i].R-foton[x].track[i].V*t-G*mass/foton[x].track[i].R/foton[x].track[i].R*t*t/2,n=G*mass/2*(1/foton[x].track[i].R/foton[x].track[i].R+1/e/e);foton[x].track[i].R=Math.max(0,foton[x].track[i].R-foton[x].track[i].V*t-n*t*t/2),foton[x].track[i].V=Math.sqrt(2*G*mass/e);var o=foton[x].track[i].X*foton[x].track[i].R/Math.sqrt(foton[x].track[i].X*foton[x].track[i].X+foton[x].track[i].Y*foton[x].track[i].Y),r=foton[x].track[i].Y*foton[x].track[i].R/Math.sqrt(foton[x].track[i].X*foton[x].track[i].X+foton[x].track[i].Y*foton[x].track[i].Y);i%2==1?screenContext.lineTo(radius*(1+o/DIS),radius*(1+r/DIS)):screenContext.moveTo(radius*(1+o/DIS),radius*(1+r/DIS))}for(screenContext.stroke(),screenContext.beginPath(),screenContext.lineWidth=.3,screenContext.moveTo(radius*(1+foton[x].X/DIS),radius*(1+foton[x].Y/DIS)),i=foton[x].track.length-1;i>=0;i--)screenContext.lineTo(radius*(1+foton[x].track[i].X/DIS),radius*(1+foton[x].track[i].Y/DIS));screenContext.stroke(),e=Math.sqrt(foton[x].X*foton[x].X+foton[x].Y*foton[x].Y),foton[x].track.push({X:foton[x].X,Y:foton[x].Y,R:e,V:Math.sqrt(2*G*mass/e)})}}function calc_tangent(){var t=(new Date).getTime();if(o=(t-timestamp)/1e3,timestamp=t,(RN=Math.trunc((timestamp-initimestamp)/I/1e3))>RNL){var a=1.41*DIS,e=(timestamp-initimestamp)/1e3-RN*I;ring.unshift({R:a,V:Math.sqrt(2*G*mass/a)}),a=ring[0].R-ring[0].V*e-G*mass/ring[0].R/ring[0].R*e*e/2;var n=G*mass/ring[0].R/ring[0].R/2+G*mass/a/a/2;ring[0].R=Math.max(0,ring[0].R-ring[0].V*e-n*e*e/2),ring[0].V=Math.sqrt(2*G*mass/a),RNL=RN}for(x=ring.length-1;x>=0;x--)if(ring[x].R>0){a=ring[x].R-ring[x].V*o-G*mass/ring[x].R/ring[x].R*o*o/2,n=G*mass/ring[x].R/ring[x].R/2+G*mass/a/a/2;ring[x].R=Math.max(0,ring[x].R-ring[x].V*o-n*o*o/2),ring[x].V=Math.sqrt(2*G*mass/a)}else ring.pop(),x=ring.length-1;for(t=(new Date).getTime(),x=0;x<foton.length;x++){var o=(t-foton[x].TS)/1e3,r=1-(foton[x].Ax*foton[x].RVx+foton[x].Ay*foton[x].RVy)/Math.sqrt(foton[x].RVy*foton[x].RVy+foton[x].RVx*foton[x].RVx)/Math.sqrt(foton[x].Ax*foton[x].Ax+foton[x].Ay*foton[x].Ay),s=foton[x].X+(foton[x].EVx+foton[x].RVx)*o+foton[x].Ax*r*o*o/2,i=foton[x].Y+(foton[x].EVy+foton[x].RVy)*o+foton[x].Ay*r*o*o/2;if((s/foton[x].X>0||i/foton[x].Y>0)&&Math.abs(s)<1.41*DIS&&Math.abs(i)<1.41*DIS){n=G*mass/(s*s+i*i);Ax=-Math.sqrt(n*n/(1+i*i/s/s))*Math.abs(s)/s,Ay=Ax*i/s,Ax=(Ax+foton[x].Ax)/2,Ay=(Ay+foton[x].Ay)/2;r=1-(Ax*foton[x].RVx+Ay*foton[x].RVy)/Math.sqrt(foton[x].RVy*foton[x].RVy+foton[x].RVx*foton[x].RVx)/Math.sqrt(Ax*Ax+Ay*Ay);var c=foton[x].EVx+foton[x].RVx+Ax*r*o,f=foton[x].EVy+foton[x].RVy+Ay*r*o,d=Math.sqrt(2*G*mass/Math.sqrt(s*s+i*i));foton[x].EVx=-Math.sqrt(d*d/(1+i*i/s/s))*Math.abs(s)/s,foton[x].EVy=foton[x].EVx*i/s;var l=c-foton[x].EVx,h=f-foton[x].EVy,m=3e8/Math.sqrt(l*l+h*h);foton[x].X=foton[x].X+(foton[x].EVx+foton[x].RVx)*o+Ax*r*o*o/2*Math.sqrt(m),foton[x].Y=foton[x].Y+(foton[x].EVy+foton[x].RVy)*o+Ay*r*o*o/2*Math.sqrt(m);n=G*mass/(foton[x].X*foton[x].X+foton[x].Y*foton[x].Y);foton[x].Ax=-Math.sqrt(n*n/(1+foton[x].Y*foton[x].Y/foton[x].X/foton[x].X))*Math.abs(foton[x].X)/foton[x].X,foton[x].Ay=foton[x].Ax*foton[x].Y/foton[x].X;d=Math.sqrt(2*G*mass/Math.sqrt(foton[x].X*foton[x].X+foton[x].Y*foton[x].Y));foton[x].EVx=-Math.sqrt(d*d/(1+foton[x].Y*foton[x].Y/foton[x].X/foton[x].X))*Math.abs(foton[x].X)/foton[x].X,foton[x].EVy=foton[x].EVx*foton[x].Y/foton[x].X,foton[x].RVx=l*m,foton[x].RVy=h*m,foton[x].TS=t}else foton.splice(x,1),x--}}function draw_radial(){for(ring=[],foton=[],initimestamp=timestamp=(new Date).getTime(),V=Math.sqrt(2*G*mass/DIS),I=Math.max(.03*DIS/V,.5),R=1.41*DIS,ring.push({R:R,V:Math.sqrt(2*G*mass/R)}),x=0;R>0;)x++,R=ring[x-1].R-ring[x-1].V*I-G*mass/ring[x-1].R/ring[x-1].R*I*I/2,A=G*mass/ring[x-1].R/ring[x-1].R/2+G*mass/R/R/2,R=ring[x-1].R-ring[x-1].V*I-A*I*I/2,ring.push({R:R,V:Math.sqrt(2*G*mass/R)});for(RNL=0,ring.pop(),Timer.Start("","I",30,draw_tangent),Timer.Start("","I",5,calc_tangent),draw_tangent(),fotoncounter=0,screenContextRadial.clearRect(0,0,2*radius,2*radius),screenContextRadial.strokeStyle="HSLA(200,100%,90%,1)",screenContextRadial.lineWidth=.3,x=-1e3;x<1001;x++)screenContextRadial.beginPath(),screenContextRadial.moveTo(0,radius+3e8*x/DIS*radius),screenContextRadial.lineTo(2*radius,radius+3e8*x/DIS*radius),screenContextRadial.closePath(),screenContextRadial.stroke(),screenContextRadial.beginPath(),screenContextRadial.moveTo(radius+3e8*x/DIS*radius,0),screenContextRadial.lineTo(radius+3e8*x/DIS*radius,2*radius),screenContextRadial.closePath(),screenContextRadial.stroke();for(screenContextRadial.fillStyle="HSLA(0,0%,0%,0.4)",screenContextRadial.moveTo(radius,radius),screenContextRadial.beginPath(),x=0;x<180;x++)screenContextRadial.lineTo(radius+1.41*radius*Math.cos(2*(2*x-.05)*Math.PI/360),radius+1.41*radius*Math.sin(2*(2*x-.05)*Math.PI/360)),screenContextRadial.lineTo(radius+1.41*radius*Math.cos(2*(2*x+.05)*Math.PI/360),radius+1.41*radius*Math.sin(2*(2*x+.05)*Math.PI/360)),screenContextRadial.lineTo(radius,radius);screenContextRadial.closePath(),screenContextRadial.fill();var t=1/(45e15/G/mass);screenContextRadial.lineWidth=2,screenContextRadial.strokeStyle="HSLA(240,100%,50%,0.3)",screenContextRadial.beginPath(),screenContextRadial.arc(radius,radius,t/DIS*radius,0,2*Math.PI,!1),screenContextRadial.closePath(),screenContextRadial.stroke(),screenContextRadial.strokeStyle="HSLA(60,100%,50%,0.3)",screenContextRadial.beginPath(),screenContextRadial.arc(radius,radius,2*t/DIS*radius,0,2*Math.PI,!1),screenContextRadial.closePath(),screenContextRadial.stroke()}function build(){alert("Gravity model-falling space. Blue circle - event horizont, yellow - foton sphere. Foton emition - left click. Foton emition is upwarded."),DIS=15e7*prompt("Put size of the area in light seconds",12),mass=prompt("Put the mass of the attractor in kilograms",1e35),cheight=$(window).height(),cwidth=$(window).width(),margin=.02,radius=Math.min(cwidth,cheight)/2*(1-margin),$("<canvas></canvas>").attr({width:2*radius,height:2*radius,id:"screencanvasradial",class:"canvas",style:"POSITION:absolute;DISPLAY:block;LEFT:"+radius*margin+"px;TOP:"+radius*margin+"px;Z-INDEX:0"}).appendTo("body"),canvas=document.getElementById("screencanvasradial"),screenContextRadial=canvas.getContext("2d"),$("<canvas></canvas>").attr({width:2*radius,height:2*radius,id:"screencanvas",class:"canvas",style:"POSITION:absolute;DISPLAY:block;LEFT:"+radius*margin+"px;TOP:"+radius*margin+"px;Z-INDEX:1"}).appendTo("body"),canvas=document.getElementById("screencanvas"),screenContext=canvas.getContext("2d"),draw_radial(),$("body").append("<div id='param' style='position:absolute'><p id='R'></p><p id='V'></p><p id='G'></p><p id='D'></p></div>"),$("#screencanvas").click((function(){var t=(event.clientX-radius*(1+margin))/radius*DIS,a=(event.clientY-radius*(1+margin))/radius*DIS,e=Math.sqrt(2*G*mass/Math.sqrt(t*t+a*a)),n=-Math.sqrt(e*e/(1+a*a/t/t))*Math.abs(t)/t,o=n*a/t;if(ISO)var r=0,s=-3e8;else r=-n,s=-Math.sqrt(9e16-r*r);var i=G*mass/(t*t+a*a),x=-Math.sqrt(i*i/(1+a*a/t/t))*Math.abs(t)/t,c=x*a/t;foton.unshift({COLOR:29*fotoncounter++%360,TS:(new Date).getTime(),X:t,Y:a,EVx:n,EVy:o,RVx:r,RVy:s,Ax:x,Ay:c,track:[]})})),$("#screencanvas").mousemove((function(){var t=(event.clientX-radius*(1+margin))/radius*DIS,a=(event.clientY-radius*(1+margin))/radius*DIS;Math.sqrt(2*G*mass/Math.sqrt(t*t+a*a));$("#param").css({top:event.clientY,left:event.clientX}),$("#R").html("R:"+Math.round(Math.sqrt(t*t+a*a)/1e6)/1e3+"Gm"),$("#V").html("V:"+Math.round(Math.sqrt(2*G*mass/Math.sqrt(t*t+a*a))/1e3)+"km/sec"),$("#G").html("g:"+Math.round(G*mass/(t*t+a*a))+"m/sec^2"),$("#D").html("gr:"+(Math.round(G*mass/Math.pow(Math.sqrt(t*t+a*a)-1,2)*1e3)-Math.round(G*mass/(t*t+a*a)*1e3))/1e3+"m/sec^2/m")}))}
	//-->
	</script>
</head>
<body id="holder" onload="build()" STYLE="background-color:RGBA(255,255,255,1);margin:0;padding:0;OVERFLOW: hidden"></body>
</html>
